/* jQuery UI Virtual Keyboard for jQuery Mobile Themes v1.1 for keyboard v1.18+ (updated 3/1/2014)
 * By Rob Garrison ~ MIT license ~ https://github.com/Mottie/Keyboard */
;(function(b){b.fn.addMobile=function(e){var c,f={container:{theme:"a"},buttonMarkup:{theme:"a",shadow:"true",corners:"true"},buttonHover:{theme:"c"},buttonAction:{theme:"b"},buttonActive:{theme:"e"}};return this.each(function(){var a=b(this).data("keyboard");a&&"undefined"!==typeof b.fn.textinput&&(a.mobile_options=c=b.extend({},f,e),a.mobile_init=function(){b(".ui-keyboard-input").textinput();a.options.alwaysOpen&&a.isVisible&&a.mobile_setup();a.$el.on("beforeVisible.keyboard",function(){a.$keyboard.css("visibility", "hidden")}).on("visible.keyboard",function(){a.mobile_setup();a.$keyboard.css("visibility","visible");a.$preview.focus()})},a.mobile_setup=function(){var d;d=b.extend({},c.buttonMarkup,c.buttonAction);a.$keyboard.addClass("ui-bar ui-bar-"+c.container.theme).removeClass("ui-widget ui-widget-content").find("button:not(."+a.options.css.buttonAction+")").addClass(a.modButton(c.buttonMarkup)).end().find("."+a.options.css.buttonAction).addClass(a.modButton(d)).end().find("button").removeClass("ui-corner-all ui-state-default").hover(function(){b(this).addClass("ui-btn-hover-"+ c.buttonHover.theme)},function(){b(this).removeClass("ui-btn-hover-"+c.buttonHover.theme)});a.options.css.buttonAction="ui-btn-down-"+c.buttonActive.theme;a.msie&&a.$preview[0]!==a.el&&(a.$preview.hide(),a.$keyboard.css("width",""),a.width=a.$keyboard.outerWidth(),a.$keyboard.width(a.width+parseInt(a.$preview.css("fontSize"),10)),a.$preview.width(a.width),a.$preview.show());d=a.options.position;d.of=d.of||a.$el.data("keyboardPosition")||a.$el;d.collision=a.options.usePreview?d.collision||"fit fit": "flip flip";a.$keyboard.position(d)},a.modButton=function(a){return"ui-btn ui-btn-up-"+a.theme+" ui-btn-"+a.theme+("true"==a.shadow?" ui-shadow":"")+("true"==a.corners?" ui-btn-corner-all":"")},a.mobile_init())})}})(jQuery);
